<!doctype html>
<html lang="en" ng-app="app">
<head>
    <meta charset="utf-8" />
    <title>Angular Sir Trevor</title>
    <meta name="description" content="" />
    <meta name=viewport content="width=device-width,initial-scale=1" />
    <!-- build:css -->
    <link rel="stylesheet" href="modules/app/app.css" />
    <link rel="stylesheet" href="modules/editor/editor.css" />
    <!-- endbuild -->
</head>
<body class="app">
    <div class="editor" ng-controller="editor">
        <div block class="block {{ block.type }}" ng-repeat="block in blocks" ng-class="{ 'editing': block.edit }" ng-click="block.edit=true"></div>
        <div class="editor-controls">
            <button ng-click="add(blocks, { type: 'text', content: '<h4>Subtitle</h4><p>Paragraph example copy.</p>', edit: 'true' })">+ text</button>
            <button ng-click="add(blocks, { type: 'image', content: 'http://www.thisiscolossal.com/wp-content/uploads/2012/11/lukas-4.jpg', edit: 'true' })">+ media</button>
        </div>
        <pre>{{ blocks|json }}</pre>
    </div>
    <script type="text/ng-template" id="overlay">
        <div class="overlay">
            <div class="controls">
                <button ng-click="moveUp(blocks, block)">▲</button>
                <button ng-click="remove(blocks, block)">✕</button>
                <button ng-click="moveDown(blocks, block)">▼</button>
            </div>
            <p>UPLOAD</p>
            <div class="area"><input upload type="file" /></div>
            <p>OR ENTER URL</p>
            <input paste type="text" ng-model="block.content" />
        </div>
    </script>
    <script type="text/ng-template" id="text">
        <div text contenteditable="true">{{ block.content }}</div>
        <div class="controls">
            <button ng-click="moveUp(blocks, block)">▲</button>
            <button ng-click="remove(blocks, block)">✕</button>
            <button ng-click="moveDown(blocks, block)">▼</button>
        </div>
    </script>
    <script type="text/ng-template" id="image">
        <img image ng-src="{{ block.content }}" alt="" />
    </script>
    <script type="text/ng-template" id="video">
        <div class="wide"><iframe video content="{{ block.content }}" frameborder="0" allowfullscreen></iframe></div>
    </script>
    <script src="libs/angular/angular.js"></script>
    <!-- build:js -->
    <script src="modules/app/app.js"></script>
    <script src="modules/editor/editor.js"></script>
    <!-- endbuild -->
</body>
</html>